# VM vs Docker Benchmark

Este proyecto compara el rendimiento de una aplicaciÃ³n ejecutÃ¡ndose en una MÃ¡quina Virtual (VM) vs Docker. Utiliza un servidor Flask y realiza benchmarks de CPU, RAM y latencia durante 60 segundos. Los resultados se guardan en archivos CSV y TXT, y se visualizan con un Jupyter Notebook.

## ConfiguraciÃ³n del entorno de prueba
Host: mÃ¡quina fÃ­sica con sistema Linux o WSL2, 8 GB RAM, 4 nÃºcleos.

VM: Ubuntu 22.04 con 2 vCPU, 4 GB RAM.

Docker: imagen base de Python 3.9 + dependencias instaladas desde requirements.txt.

Entorno comÃºn: scripts idÃ©nticos, misma duraciÃ³n de benchmark (60s), mismo servidor Flask simulado.


##  MÃ©tricas y herramientas utilizadas

- Se midieron 3 mÃ©tricas clave durante la ejecuciÃ³n:

    - Latencia promedio de respuesta del servidor Flask

    - Uso de CPU (%) del proceso Python

    - Uso de RAM (MB) del proceso

- Herramientas utilizadas:

    - psutil: para mÃ©tricas del sistema

    - Flask: servidor HTTP simulado

    - pandas, matplotlib: para anÃ¡lisis y visualizaciÃ³n

    - Jupyter Notebook: para visualizar los resultados


## ğŸ“ Estructura del Proyecto

```bash
vm_vs_docker_benchmark/
â”œâ”€â”€ notebooks/
â”‚ â””â”€â”€ vm_vs_docker_comparison.ipynb â† Jupyter Notebook para visualizaciÃ³n
â”œâ”€â”€ results/ â† Resultados generados automÃ¡ticamente
â”‚ â”œâ”€â”€ benchmark_vm.csv
â”‚ â”œâ”€â”€ benchmark_docker.csv
â”‚ â””â”€â”€ ...
â”œâ”€â”€ scripts/
â”‚ â”œâ”€â”€ benchmark.py â† Script principal de benchmarking
â”‚ â”œâ”€â”€ run_server.py â† Servidor Flask simulado
â”‚ â”œâ”€â”€ docker_setup.sh â† Inicializador para Docker
â”‚ â””â”€â”€ vm_setup.sh â† Inicializador para VM
â”œâ”€â”€ tetris/ â† CÃ³digo del servidor simulado
â”‚ â”œâ”€â”€ index.html
â”‚ â”œâ”€â”€ game.js
â”‚ â””â”€â”€ style.css
â”œâ”€â”€ requirements.txt â† Dependencias Python
â””â”€â”€ README.md â† Este archivo
```

## âš™ï¸ InstalaciÃ³n de dependencias

Primero, asegÃºrate de tener Python 3 instalado.

1. Abre una terminal en la raÃ­z del proyecto.
2. Ejecuta:

```bash
pip install -r requirements.txt
```

Esto instalarÃ¡:

- Flask

- pandas

- Matplotlib

- Psutil

- JupyterLab

## ğŸ§ª AutomatizaciÃ³n del entorno VM & DOCKER


Puedes usar los siguientes scripts para automatizar la instalaciÃ³n del entorno:

```bash
cd scripts
bash vm_setup.sh         # ConfiguraciÃ³n para VM
bash sh docker_setup.sh     # ConfiguraciÃ³n para Docker (edited)
```


## ğŸš€ CÃ³mo ejecutar el benchmark

1. Iniciar el servidor simulado

```bash
cd scripts
python run_server.p
```

Esto levantarÃ¡ un servidor en http://localhost:8000.

2. Ejecutar benchmark
En otra terminal, ejecuta:

```bash
cd scripts
python benchmark.py
```

Este script te preguntarÃ¡ si estÃ¡s ejecutando desde una vm o docker. DespuÃ©s de 60 segundos, guardarÃ¡ los resultados en la carpeta results/.

## ğŸ“Š Visualizar los resultados

1. Inicia Jupyter Lab o Notebook
```bash
jupyter lab
```

O:
```bash
jupyter notebook
```

Abre el archivo:

`notebooks/vm_vs_docker_comparison.ipynb`
Este notebook generarÃ¡ grÃ¡ficos comparativos de:

- Latencia

- Uso de CPU

- Uso de RAM

Basados en los archivos CSV generados por el benchmark.

---

| ğŸ–¥ï¸ Virtual Machine | ğŸ³ Docker |
|--------------------------|------------------|
| ![VM](results/Benchmark_VM.png) | ![Docker](results/Benchmark_Docker.png) |


<p align="center">
  <img src="notebooks/Uso_CPU_comparison.png" alt="Uso CPU" width="600"/>
</p> 

<p align="center">
  <img src="notebooks/Uso_RAM_Comparison.png" alt="Uso RAM" width="600"/>
</p> 

---

## ğŸ§¼ Recomendaciones
Ejecuta los benchmarks por separado: una vez desde Docker, otra desde la VM.

AsegÃºrate de no tener procesos pesados corriendo durante las pruebas.

Si usas WSL, asegÃºrate de que Jupyter y los scripts corren en el mismo entorno.

## ğŸ›  Requisitos

- Python 3.8+

- pip

- Docker (si usarÃ¡s el contenedor)

- JupyterLab o Jupyter Notebook

